// Package billmodel contains the types for schema 'equinox'.
package billmodel

// GENERATED BY XO. DO NOT EDIT.

import (
	"database/sql"

	"github.com/lib/pq"
)

// Tmlband represents a row from 'equinox.tmlbands'.
type Tmlband struct {
	TmlbandsCode    sql.NullString  `json:"tmlbands_code"`    // tmlbands_code
	TmlbandsDesc    sql.NullString  `json:"tmlbands_desc"`    // tmlbands_desc
	TmlbandsTerm    sql.NullInt64   `json:"tmlbands_term"`    // tmlbands_term
	TmlbandsDisc    sql.NullFloat64 `json:"tmlbands_disc"`    // tmlbands_disc
	TmlbandsAnalog  sql.NullFloat64 `json:"tmlbands_analog"`  // tmlbands_analog
	TmlbandsIsdn2   sql.NullFloat64 `json:"tmlbands_isdn2"`   // tmlbands_isdn2
	TmlbandsIsdn30  sql.NullFloat64 `json:"tmlbands_isdn30"`  // tmlbands_isdn30
	TmlbandsSuspend sql.NullInt64   `json:"tmlbands_suspend"` // tmlbands_suspend
	TmlbandsNotes   sql.NullInt64   `json:"tmlbands_notes"`   // tmlbands_notes
	TmlbandsGrp1    sql.NullInt64   `json:"tmlbands_grp1"`    // tmlbands_grp1
	TmlbandsGrp2    sql.NullInt64   `json:"tmlbands_grp2"`    // tmlbands_grp2
	TmlbandsGrp3    sql.NullInt64   `json:"tmlbands_grp3"`    // tmlbands_grp3
	TmlbandsGrp4    sql.NullInt64   `json:"tmlbands_grp4"`    // tmlbands_grp4
	TmlbandsGroups  sql.NullString  `json:"tmlbands_groups"`  // tmlbands_groups
	TmlbandsComid   sql.NullInt64   `json:"tmlbands_comid"`   // tmlbands_comid
	TmlbandsSparec1 sql.NullString  `json:"tmlbands_sparec1"` // tmlbands_sparec1
	TmlbandsSparec2 sql.NullString  `json:"tmlbands_sparec2"` // tmlbands_sparec2
	TmlbandsSparec3 sql.NullString  `json:"tmlbands_sparec3"` // tmlbands_sparec3
	TmlbandsSparen1 sql.NullInt64   `json:"tmlbands_sparen1"` // tmlbands_sparen1
	TmlbandsSparen2 sql.NullInt64   `json:"tmlbands_sparen2"` // tmlbands_sparen2
	TmlbandsSparen3 sql.NullInt64   `json:"tmlbands_sparen3"` // tmlbands_sparen3
	TmlbandsSpared1 pq.NullTime     `json:"tmlbands_spared1"` // tmlbands_spared1
	EquinoxLrn      int64           `json:"equinox_lrn"`      // equinox_lrn
	EquinoxSec      sql.NullInt64   `json:"equinox_sec"`      // equinox_sec
}

func AllTmlband(db XODB, callback func(x Tmlband) bool) error {

	// sql query
	const sqlstr = `SELECT ` +
		`tmlbands_code, tmlbands_desc, tmlbands_term, tmlbands_disc, tmlbands_analog, tmlbands_isdn2, tmlbands_isdn30, tmlbands_suspend, tmlbands_notes, tmlbands_grp1, tmlbands_grp2, tmlbands_grp3, tmlbands_grp4, tmlbands_groups, tmlbands_comid, tmlbands_sparec1, tmlbands_sparec2, tmlbands_sparec3, tmlbands_sparen1, tmlbands_sparen2, tmlbands_sparen3, tmlbands_spared1, equinox_lrn, equinox_sec ` +
		`FROM equinox.tmlbands `

	q, err := db.Query(sqlstr)

	if err != nil {
		return err
	}
	defer q.Close()

	// load results
	for q.Next() {
		t := Tmlband{}

		// scan
		err = q.Scan(&t.TmlbandsCode, &t.TmlbandsDesc, &t.TmlbandsTerm, &t.TmlbandsDisc, &t.TmlbandsAnalog, &t.TmlbandsIsdn2, &t.TmlbandsIsdn30, &t.TmlbandsSuspend, &t.TmlbandsNotes, &t.TmlbandsGrp1, &t.TmlbandsGrp2, &t.TmlbandsGrp3, &t.TmlbandsGrp4, &t.TmlbandsGroups, &t.TmlbandsComid, &t.TmlbandsSparec1, &t.TmlbandsSparec2, &t.TmlbandsSparec3, &t.TmlbandsSparen1, &t.TmlbandsSparen2, &t.TmlbandsSparen3, &t.TmlbandsSpared1, &t.EquinoxLrn, &t.EquinoxSec)
		if err != nil {
			return err
		}
		if !callback(t) {
			return nil
		}
	}

	return nil
}

// TmlbandByEquinoxLrn retrieves a row from 'equinox.tmlbands' as a Tmlband.
//
// Generated from index 'tmlbands_pkey'.
func TmlbandByEquinoxLrn(db XODB, equinoxLrn int64) (*Tmlband, error) {
	var err error

	// sql query
	const sqlstr = `SELECT ` +
		`tmlbands_code, tmlbands_desc, tmlbands_term, tmlbands_disc, tmlbands_analog, tmlbands_isdn2, tmlbands_isdn30, tmlbands_suspend, tmlbands_notes, tmlbands_grp1, tmlbands_grp2, tmlbands_grp3, tmlbands_grp4, tmlbands_groups, tmlbands_comid, tmlbands_sparec1, tmlbands_sparec2, tmlbands_sparec3, tmlbands_sparen1, tmlbands_sparen2, tmlbands_sparen3, tmlbands_spared1, equinox_lrn, equinox_sec ` +
		`FROM equinox.tmlbands ` +
		`WHERE equinox_lrn = $1`

	// run query
	XOLog(sqlstr, equinoxLrn)
	t := Tmlband{}

	err = db.QueryRow(sqlstr, equinoxLrn).Scan(&t.TmlbandsCode, &t.TmlbandsDesc, &t.TmlbandsTerm, &t.TmlbandsDisc, &t.TmlbandsAnalog, &t.TmlbandsIsdn2, &t.TmlbandsIsdn30, &t.TmlbandsSuspend, &t.TmlbandsNotes, &t.TmlbandsGrp1, &t.TmlbandsGrp2, &t.TmlbandsGrp3, &t.TmlbandsGrp4, &t.TmlbandsGroups, &t.TmlbandsComid, &t.TmlbandsSparec1, &t.TmlbandsSparec2, &t.TmlbandsSparec3, &t.TmlbandsSparen1, &t.TmlbandsSparen2, &t.TmlbandsSparen3, &t.TmlbandsSpared1, &t.EquinoxLrn, &t.EquinoxSec)
	if err != nil {
		return nil, err
	}

	return &t, nil
}
