// Package billmodel contains the types for schema 'equinox'.
package billmodel

// GENERATED BY XO. DO NOT EDIT.

import (
	"database/sql"

	"github.com/lib/pq"
)

// Mpmm represents a row from 'equinox.mpmm'.
type Mpmm struct {
	Mpmmpancore  sql.NullString `json:"mpmmpancore"`  // mpmmpancore
	Mpmmeterid   sql.NullString `json:"mpmmeterid"`   // mpmmeterid
	Mpmpaydate   pq.NullTime    `json:"mpmpaydate"`   // mpmpaydate
	Mpmecoes1    sql.NullString `json:"mpmecoes1"`    // mpmecoes1
	Mpmecoes2    sql.NullString `json:"mpmecoes2"`    // mpmecoes2
	Mpmecoes3    sql.NullString `json:"mpmecoes3"`    // mpmecoes3
	Mpmactionreq sql.NullInt64  `json:"mpmactionreq"` // mpmactionreq
	Mpmresolved  pq.NullTime    `json:"mpmresolved"`  // mpmresolved
	Mpmfilename  sql.NullString `json:"mpmfilename"`  // mpmfilename
	EquinoxPrn   sql.NullInt64  `json:"equinox_prn"`  // equinox_prn
	EquinoxLrn   int64          `json:"equinox_lrn"`  // equinox_lrn
	EquinoxSec   sql.NullInt64  `json:"equinox_sec"`  // equinox_sec
}

// MpmmByEquinoxLrn retrieves a row from 'equinox.mpmm' as a Mpmm.
//
// Generated from index 'mpmm_pkey'.
func MpmmByEquinoxLrn(db XODB, equinoxLrn int64) (*Mpmm, error) {
	var err error

	// sql query
	const sqlstr = `SELECT ` +
		`mpmmpancore, mpmmeterid, mpmpaydate, mpmecoes1, mpmecoes2, mpmecoes3, mpmactionreq, mpmresolved, mpmfilename, equinox_prn, equinox_lrn, equinox_sec ` +
		`FROM equinox.mpmm ` +
		`WHERE equinox_lrn = $1`

	// run query
	XOLog(sqlstr, equinoxLrn)
	m := Mpmm{}

	err = db.QueryRow(sqlstr, equinoxLrn).Scan(&m.Mpmmpancore, &m.Mpmmeterid, &m.Mpmpaydate, &m.Mpmecoes1, &m.Mpmecoes2, &m.Mpmecoes3, &m.Mpmactionreq, &m.Mpmresolved, &m.Mpmfilename, &m.EquinoxPrn, &m.EquinoxLrn, &m.EquinoxSec)
	if err != nil {
		return nil, err
	}

	return &m, nil
}
