// Package billmodel contains the types for schema 'equinox'.
package billmodel

// GENERATED BY XO. DO NOT EDIT.

import (
	"database/sql"

	"github.com/lib/pq"
)

// Energy represents a row from 'equinox.energy'.
type Energy struct {
	Enrgaccountno  sql.NullString `json:"enrgaccountno"`  // enrgaccountno
	Enrgpostcode   sql.NullString `json:"enrgpostcode"`   // enrgpostcode
	Enrgereference sql.NullString `json:"enrgereference"` // enrgereference
	Enrgestartdate pq.NullTime    `json:"enrgestartdate"` // enrgestartdate
	Enrgeenddate   pq.NullTime    `json:"enrgeenddate"`   // enrgeenddate
	Enrgeregion    sql.NullInt64  `json:"enrgeregion"`    // enrgeregion
	Enrggreference sql.NullString `json:"enrggreference"` // enrggreference
	Enrggstartdate pq.NullTime    `json:"enrggstartdate"` // enrggstartdate
	Enrggenddate   pq.NullTime    `json:"enrggenddate"`   // enrggenddate
	Enrggregion    sql.NullInt64  `json:"enrggregion"`    // enrggregion
	Enrglastmodd   pq.NullTime    `json:"enrglastmodd"`   // enrglastmodd
	Enrglastmodt   pq.NullTime    `json:"enrglastmodt"`   // enrglastmodt
	Enrglastmodby  sql.NullString `json:"enrglastmodby"`  // enrglastmodby
	Enrgaddress1   sql.NullString `json:"enrgaddress1"`   // enrgaddress1
	Enrgaddress2   sql.NullString `json:"enrgaddress2"`   // enrgaddress2
	Enrgaddress3   sql.NullString `json:"enrgaddress3"`   // enrgaddress3
	Enrgaddress4   sql.NullString `json:"enrgaddress4"`   // enrgaddress4
	EquinoxLrn     int64          `json:"equinox_lrn"`    // equinox_lrn
	EquinoxSec     sql.NullInt64  `json:"equinox_sec"`    // equinox_sec
}

// EnergyByEquinoxLrn retrieves a row from 'equinox.energy' as a Energy.
//
// Generated from index 'energy_pkey'.
func EnergyByEquinoxLrn(db XODB, equinoxLrn int64) (*Energy, error) {
	var err error

	// sql query
	const sqlstr = `SELECT ` +
		`enrgaccountno, enrgpostcode, enrgereference, enrgestartdate, enrgeenddate, enrgeregion, enrggreference, enrggstartdate, enrggenddate, enrggregion, enrglastmodd, enrglastmodt, enrglastmodby, enrgaddress1, enrgaddress2, enrgaddress3, enrgaddress4, equinox_lrn, equinox_sec ` +
		`FROM equinox.energy ` +
		`WHERE equinox_lrn = $1`

	// run query
	XOLog(sqlstr, equinoxLrn)
	e := Energy{}

	err = db.QueryRow(sqlstr, equinoxLrn).Scan(&e.Enrgaccountno, &e.Enrgpostcode, &e.Enrgereference, &e.Enrgestartdate, &e.Enrgeenddate, &e.Enrgeregion, &e.Enrggreference, &e.Enrggstartdate, &e.Enrggenddate, &e.Enrggregion, &e.Enrglastmodd, &e.Enrglastmodt, &e.Enrglastmodby, &e.Enrgaddress1, &e.Enrgaddress2, &e.Enrgaddress3, &e.Enrgaddress4, &e.EquinoxLrn, &e.EquinoxSec)
	if err != nil {
		return nil, err
	}

	return &e, nil
}
