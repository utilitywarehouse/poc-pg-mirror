// Package billmodel contains the types for schema 'equinox'.
package billmodel

// GENERATED BY XO. DO NOT EDIT.

import (
	"database/sql"

	"github.com/lib/pq"
)

// Exitem represents a row from 'equinox.exitems'.
type Exitem struct {
	Exitemprodcode   sql.NullString  `json:"exitemprodcode"`   // exitemprodcode
	Exitemdesc       sql.NullString  `json:"exitemdesc"`       // exitemdesc
	Exitemlineqty    sql.NullInt64   `json:"exitemlineqty"`    // exitemlineqty
	Exitemlineeach   sql.NullFloat64 `json:"exitemlineeach"`   // exitemlineeach
	Exitemlinevat    sql.NullFloat64 `json:"exitemlinevat"`    // exitemlinevat
	Exitemlinetotal  sql.NullFloat64 `json:"exitemlinetotal"`  // exitemlinetotal
	Exitemdiscrate   sql.NullFloat64 `json:"exitemdiscrate"`   // exitemdiscrate
	Exitemdiscval    sql.NullFloat64 `json:"exitemdiscval"`    // exitemdiscval
	Exitemcontra     sql.NullInt64   `json:"exitemcontra"`     // exitemcontra
	Exitempromocode  sql.NullString  `json:"exitempromocode"`  // exitempromocode
	Exitemprinted    sql.NullInt64   `json:"exitemprinted"`    // exitemprinted
	Exitemrpc        sql.NullString  `json:"exitemrpc"`        // exitemrpc
	Exitemsms        sql.NullString  `json:"exitemsms"`        // exitemsms
	Exitemgprs       sql.NullString  `json:"exitemgprs"`       // exitemgprs
	Exitemmms        sql.NullString  `json:"exitemmms"`        // exitemmms
	Exitemlocal      sql.NullString  `json:"exitemlocal"`      // exitemlocal
	Exitemintl       sql.NullString  `json:"exitemintl"`       // exitemintl
	Exitemterm       sql.NullInt64   `json:"exitemterm"`       // exitemterm
	Exitemnettariff  sql.NullString  `json:"exitemnettariff"`  // exitemnettariff
	Exitemsubtariff  sql.NullString  `json:"exitemsubtariff"`  // exitemsubtariff
	Exitemport       sql.NullInt64   `json:"exitemport"`       // exitemport
	Exitemtype       sql.NullString  `json:"exitemtype"`       // exitemtype
	Exitemconndate   pq.NullTime     `json:"exitemconndate"`   // exitemconndate
	Exitemrefunddate pq.NullTime     `json:"exitemrefunddate"` // exitemrefunddate
	Exitemrefundqty  sql.NullInt64   `json:"exitemrefundqty"`  // exitemrefundqty
	Exitemrefundsel  sql.NullString  `json:"exitemrefundsel"`  // exitemrefundsel
	Exitemssparec1   sql.NullString  `json:"exitemssparec1"`   // exitemssparec1
	Exitemssparen1   sql.NullFloat64 `json:"exitemssparen1"`   // exitemssparen1
	Exitemsspared1   pq.NullTime     `json:"exitemsspared1"`   // exitemsspared1
	EquinoxPrn       sql.NullInt64   `json:"equinox_prn"`      // equinox_prn
	EquinoxLrn       int64           `json:"equinox_lrn"`      // equinox_lrn
	EquinoxSec       sql.NullInt64   `json:"equinox_sec"`      // equinox_sec
}

func AllExitem(db XODB, callback func(x Exitem) bool) error {

	// sql query
	const sqlstr = `SELECT ` +
		`exitemprodcode, exitemdesc, exitemlineqty, exitemlineeach, exitemlinevat, exitemlinetotal, exitemdiscrate, exitemdiscval, exitemcontra, exitempromocode, exitemprinted, exitemrpc, exitemsms, exitemgprs, exitemmms, exitemlocal, exitemintl, exitemterm, exitemnettariff, exitemsubtariff, exitemport, exitemtype, exitemconndate, exitemrefunddate, exitemrefundqty, exitemrefundsel, exitemssparec1, exitemssparen1, exitemsspared1, equinox_prn, equinox_lrn, equinox_sec ` +
		`FROM equinox.exitems `

	q, err := db.Query(sqlstr)

	if err != nil {
		return err
	}
	defer q.Close()

	// load results
	for q.Next() {
		e := Exitem{}

		// scan
		err = q.Scan(&e.Exitemprodcode, &e.Exitemdesc, &e.Exitemlineqty, &e.Exitemlineeach, &e.Exitemlinevat, &e.Exitemlinetotal, &e.Exitemdiscrate, &e.Exitemdiscval, &e.Exitemcontra, &e.Exitempromocode, &e.Exitemprinted, &e.Exitemrpc, &e.Exitemsms, &e.Exitemgprs, &e.Exitemmms, &e.Exitemlocal, &e.Exitemintl, &e.Exitemterm, &e.Exitemnettariff, &e.Exitemsubtariff, &e.Exitemport, &e.Exitemtype, &e.Exitemconndate, &e.Exitemrefunddate, &e.Exitemrefundqty, &e.Exitemrefundsel, &e.Exitemssparec1, &e.Exitemssparen1, &e.Exitemsspared1, &e.EquinoxPrn, &e.EquinoxLrn, &e.EquinoxSec)
		if err != nil {
			return err
		}
		if !callback(e) {
			return nil
		}
	}

	return nil
}

// ExitemByEquinoxLrn retrieves a row from 'equinox.exitems' as a Exitem.
//
// Generated from index 'exitems_pkey'.
func ExitemByEquinoxLrn(db XODB, equinoxLrn int64) (*Exitem, error) {
	var err error

	// sql query
	const sqlstr = `SELECT ` +
		`exitemprodcode, exitemdesc, exitemlineqty, exitemlineeach, exitemlinevat, exitemlinetotal, exitemdiscrate, exitemdiscval, exitemcontra, exitempromocode, exitemprinted, exitemrpc, exitemsms, exitemgprs, exitemmms, exitemlocal, exitemintl, exitemterm, exitemnettariff, exitemsubtariff, exitemport, exitemtype, exitemconndate, exitemrefunddate, exitemrefundqty, exitemrefundsel, exitemssparec1, exitemssparen1, exitemsspared1, equinox_prn, equinox_lrn, equinox_sec ` +
		`FROM equinox.exitems ` +
		`WHERE equinox_lrn = $1`

	// run query
	XOLog(sqlstr, equinoxLrn)
	e := Exitem{}

	err = db.QueryRow(sqlstr, equinoxLrn).Scan(&e.Exitemprodcode, &e.Exitemdesc, &e.Exitemlineqty, &e.Exitemlineeach, &e.Exitemlinevat, &e.Exitemlinetotal, &e.Exitemdiscrate, &e.Exitemdiscval, &e.Exitemcontra, &e.Exitempromocode, &e.Exitemprinted, &e.Exitemrpc, &e.Exitemsms, &e.Exitemgprs, &e.Exitemmms, &e.Exitemlocal, &e.Exitemintl, &e.Exitemterm, &e.Exitemnettariff, &e.Exitemsubtariff, &e.Exitemport, &e.Exitemtype, &e.Exitemconndate, &e.Exitemrefunddate, &e.Exitemrefundqty, &e.Exitemrefundsel, &e.Exitemssparec1, &e.Exitemssparen1, &e.Exitemsspared1, &e.EquinoxPrn, &e.EquinoxLrn, &e.EquinoxSec)
	if err != nil {
		return nil, err
	}

	return &e, nil
}
