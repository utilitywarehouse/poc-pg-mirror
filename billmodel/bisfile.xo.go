// Package billmodel contains the types for schema 'equinox'.
package billmodel

// GENERATED BY XO. DO NOT EDIT.

import (
	"database/sql"

	"github.com/lib/pq"
)

// Bisfile represents a row from 'equinox.bisfile'.
type Bisfile struct {
	Bisfiletype      sql.NullString  `json:"bisfiletype"`      // bisfiletype
	Bisdate          pq.NullTime     `json:"bisdate"`          // bisdate
	Bisfilehandshake pq.NullTime     `json:"bisfilehandshake"` // bisfilehandshake
	Bisfileresponse  pq.NullTime     `json:"bisfileresponse"`  // bisfileresponse
	Bisfilename      sql.NullString  `json:"bisfilename"`      // bisfilename
	Biszipname       sql.NullString  `json:"biszipname"`       // biszipname
	Bisfileoutcome   sql.NullString  `json:"bisfileoutcome"`   // bisfileoutcome
	Bisnum1          sql.NullFloat64 `json:"bisnum1"`          // bisnum1
	Bisnum2          sql.NullFloat64 `json:"bisnum2"`          // bisnum2
	Bisfilecontid    sql.NullString  `json:"bisfilecontid"`    // bisfilecontid
	Bischar2         sql.NullString  `json:"bischar2"`         // bischar2
	Bischar3         sql.NullString  `json:"bischar3"`         // bischar3
	Bischar4         sql.NullString  `json:"bischar4"`         // bischar4
	Bisdate1         pq.NullTime     `json:"bisdate1"`         // bisdate1
	Bisdate2         pq.NullTime     `json:"bisdate2"`         // bisdate2
	Bisdate3         pq.NullTime     `json:"bisdate3"`         // bisdate3
	Bisdate4         pq.NullTime     `json:"bisdate4"`         // bisdate4
	Bisfiledetail    sql.NullInt64   `json:"bisfiledetail"`    // bisfiledetail
	Bisfileidentify  sql.NullString  `json:"bisfileidentify"`  // bisfileidentify
	Bisfilesparec1   sql.NullString  `json:"bisfilesparec1"`   // bisfilesparec1
	Bisfilesparen1   sql.NullFloat64 `json:"bisfilesparen1"`   // bisfilesparen1
	Bisfilespared1   pq.NullTime     `json:"bisfilespared1"`   // bisfilespared1
	EquinoxPrn       sql.NullInt64   `json:"equinox_prn"`      // equinox_prn
	EquinoxLrn       int64           `json:"equinox_lrn"`      // equinox_lrn
	EquinoxSec       sql.NullInt64   `json:"equinox_sec"`      // equinox_sec
}

func AllBisfile(db XODB, callback func(x Bisfile) bool) error {

	// sql query
	const sqlstr = `SELECT ` +
		`bisfiletype, bisdate, bisfilehandshake, bisfileresponse, bisfilename, biszipname, bisfileoutcome, bisnum1, bisnum2, bisfilecontid, bischar2, bischar3, bischar4, bisdate1, bisdate2, bisdate3, bisdate4, bisfiledetail, bisfileidentify, bisfilesparec1, bisfilesparen1, bisfilespared1, equinox_prn, equinox_lrn, equinox_sec ` +
		`FROM equinox.bisfile `

	q, err := db.Query(sqlstr)

	if err != nil {
		return err
	}
	defer q.Close()

	// load results
	for q.Next() {
		b := Bisfile{}

		// scan
		err = q.Scan(&b.Bisfiletype, &b.Bisdate, &b.Bisfilehandshake, &b.Bisfileresponse, &b.Bisfilename, &b.Biszipname, &b.Bisfileoutcome, &b.Bisnum1, &b.Bisnum2, &b.Bisfilecontid, &b.Bischar2, &b.Bischar3, &b.Bischar4, &b.Bisdate1, &b.Bisdate2, &b.Bisdate3, &b.Bisdate4, &b.Bisfiledetail, &b.Bisfileidentify, &b.Bisfilesparec1, &b.Bisfilesparen1, &b.Bisfilespared1, &b.EquinoxPrn, &b.EquinoxLrn, &b.EquinoxSec)
		if err != nil {
			return err
		}
		if !callback(b) {
			return nil
		}
	}

	return nil
}

// BisfileByEquinoxLrn retrieves a row from 'equinox.bisfile' as a Bisfile.
//
// Generated from index 'bisfile_pkey'.
func BisfileByEquinoxLrn(db XODB, equinoxLrn int64) (*Bisfile, error) {
	var err error

	// sql query
	const sqlstr = `SELECT ` +
		`bisfiletype, bisdate, bisfilehandshake, bisfileresponse, bisfilename, biszipname, bisfileoutcome, bisnum1, bisnum2, bisfilecontid, bischar2, bischar3, bischar4, bisdate1, bisdate2, bisdate3, bisdate4, bisfiledetail, bisfileidentify, bisfilesparec1, bisfilesparen1, bisfilespared1, equinox_prn, equinox_lrn, equinox_sec ` +
		`FROM equinox.bisfile ` +
		`WHERE equinox_lrn = $1`

	// run query
	XOLog(sqlstr, equinoxLrn)
	b := Bisfile{}

	err = db.QueryRow(sqlstr, equinoxLrn).Scan(&b.Bisfiletype, &b.Bisdate, &b.Bisfilehandshake, &b.Bisfileresponse, &b.Bisfilename, &b.Biszipname, &b.Bisfileoutcome, &b.Bisnum1, &b.Bisnum2, &b.Bisfilecontid, &b.Bischar2, &b.Bischar3, &b.Bischar4, &b.Bisdate1, &b.Bisdate2, &b.Bisdate3, &b.Bisdate4, &b.Bisfiledetail, &b.Bisfileidentify, &b.Bisfilesparec1, &b.Bisfilesparen1, &b.Bisfilespared1, &b.EquinoxPrn, &b.EquinoxLrn, &b.EquinoxSec)
	if err != nil {
		return nil, err
	}

	return &b, nil
}
