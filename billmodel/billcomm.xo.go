// Package billmodel contains the types for schema 'equinox'.
package billmodel

// GENERATED BY XO. DO NOT EDIT.

import (
	"database/sql"

	"github.com/lib/pq"
)

// Billcomm represents a row from 'equinox.billcomm'.
type Billcomm struct {
	Bcbillnumber     sql.NullString  `json:"bcbillnumber"`     // bcbillnumber
	Bcbillperiod     sql.NullString  `json:"bcbillperiod"`     // bcbillperiod
	Bccustaccountno  sql.NullString  `json:"bccustaccountno"`  // bccustaccountno
	Bcbillinggroup   sql.NullInt64   `json:"bcbillinggroup"`   // bcbillinggroup
	Bccommispaiddate pq.NullTime     `json:"bccommispaiddate"` // bccommispaiddate
	Bccommisinvoice  sql.NullString  `json:"bccommisinvoice"`  // bccommisinvoice
	Bccommpaidperiod sql.NullString  `json:"bccommpaidperiod"` // bccommpaidperiod
	Bccommispaidamnt sql.NullFloat64 `json:"bccommispaidamnt"` // bccommispaidamnt
	Bccrnumber       sql.NullInt64   `json:"bccrnumber"`       // bccrnumber
	Bcdealerid       sql.NullString  `json:"bcdealerid"`       // bcdealerid
	Bcclawcrnum      sql.NullInt64   `json:"bcclawcrnum"`      // bcclawcrnum
	Bcclawrepaycrnum sql.NullInt64   `json:"bcclawrepaycrnum"` // bcclawrepaycrnum
	Bcsparec1        sql.NullString  `json:"bcsparec1"`        // bcsparec1
	Bcsparec2        sql.NullString  `json:"bcsparec2"`        // bcsparec2
	Bcsparen1        sql.NullFloat64 `json:"bcsparen1"`        // bcsparen1
	Bcsparen2        sql.NullFloat64 `json:"bcsparen2"`        // bcsparen2
	Bsspared1        pq.NullTime     `json:"bsspared1"`        // bsspared1
	EquinoxLrn       int64           `json:"equinox_lrn"`      // equinox_lrn
	EquinoxSec       sql.NullInt64   `json:"equinox_sec"`      // equinox_sec
}

func AllBillcomm(db XODB, callback func(x Billcomm) bool) error {

	// sql query
	const sqlstr = `SELECT ` +
		`bcbillnumber, bcbillperiod, bccustaccountno, bcbillinggroup, bccommispaiddate, bccommisinvoice, bccommpaidperiod, bccommispaidamnt, bccrnumber, bcdealerid, bcclawcrnum, bcclawrepaycrnum, bcsparec1, bcsparec2, bcsparen1, bcsparen2, bsspared1, equinox_lrn, equinox_sec ` +
		`FROM equinox.billcomm `

	q, err := db.Query(sqlstr)

	if err != nil {
		return err
	}
	defer q.Close()

	// load results
	for q.Next() {
		b := Billcomm{}

		// scan
		err = q.Scan(&b.Bcbillnumber, &b.Bcbillperiod, &b.Bccustaccountno, &b.Bcbillinggroup, &b.Bccommispaiddate, &b.Bccommisinvoice, &b.Bccommpaidperiod, &b.Bccommispaidamnt, &b.Bccrnumber, &b.Bcdealerid, &b.Bcclawcrnum, &b.Bcclawrepaycrnum, &b.Bcsparec1, &b.Bcsparec2, &b.Bcsparen1, &b.Bcsparen2, &b.Bsspared1, &b.EquinoxLrn, &b.EquinoxSec)
		if err != nil {
			return err
		}
		if !callback(b) {
			return nil
		}
	}

	return nil
}

// BillcommByEquinoxLrn retrieves a row from 'equinox.billcomm' as a Billcomm.
//
// Generated from index 'billcomm_pkey'.
func BillcommByEquinoxLrn(db XODB, equinoxLrn int64) (*Billcomm, error) {
	var err error

	// sql query
	const sqlstr = `SELECT ` +
		`bcbillnumber, bcbillperiod, bccustaccountno, bcbillinggroup, bccommispaiddate, bccommisinvoice, bccommpaidperiod, bccommispaidamnt, bccrnumber, bcdealerid, bcclawcrnum, bcclawrepaycrnum, bcsparec1, bcsparec2, bcsparen1, bcsparen2, bsspared1, equinox_lrn, equinox_sec ` +
		`FROM equinox.billcomm ` +
		`WHERE equinox_lrn = $1`

	// run query
	XOLog(sqlstr, equinoxLrn)
	b := Billcomm{}

	err = db.QueryRow(sqlstr, equinoxLrn).Scan(&b.Bcbillnumber, &b.Bcbillperiod, &b.Bccustaccountno, &b.Bcbillinggroup, &b.Bccommispaiddate, &b.Bccommisinvoice, &b.Bccommpaidperiod, &b.Bccommispaidamnt, &b.Bccrnumber, &b.Bcdealerid, &b.Bcclawcrnum, &b.Bcclawrepaycrnum, &b.Bcsparec1, &b.Bcsparec2, &b.Bcsparen1, &b.Bcsparen2, &b.Bsspared1, &b.EquinoxLrn, &b.EquinoxSec)
	if err != nil {
		return nil, err
	}

	return &b, nil
}
