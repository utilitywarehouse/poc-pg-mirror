// Package billmodel contains the types for schema 'equinox'.
package billmodel

// GENERATED BY XO. DO NOT EDIT.

import (
	"database/sql"

	"github.com/lib/pq"
)

// Eventlog represents a row from 'equinox.eventlog'.
type Eventlog struct {
	Elid          sql.NullInt64  `json:"elid"`          // elid
	Eleventid     sql.NullInt64  `json:"eleventid"`     // eleventid
	Eldate        pq.NullTime    `json:"eldate"`        // eldate
	Eltime        pq.NullTime    `json:"eltime"`        // eltime
	Elstartdate   pq.NullTime    `json:"elstartdate"`   // elstartdate
	Elstarttime   pq.NullTime    `json:"elstarttime"`   // elstarttime
	Elenddate     pq.NullTime    `json:"elenddate"`     // elenddate
	Elendtime     pq.NullTime    `json:"elendtime"`     // elendtime
	Elmessage     sql.NullString `json:"elmessage"`     // elmessage
	Eldetails     sql.NullInt64  `json:"eldetails"`     // eldetails
	Eltype        sql.NullString `json:"eltype"`        // eltype
	Elcategory    sql.NullString `json:"elcategory"`    // elcategory
	Elraisedby    sql.NullString `json:"elraisedby"`    // elraisedby
	Eladditional1 sql.NullString `json:"eladditional1"` // eladditional1
	Eladditional2 sql.NullString `json:"eladditional2"` // eladditional2
	Eladditional3 sql.NullString `json:"eladditional3"` // eladditional3
	Eladditional4 sql.NullString `json:"eladditional4"` // eladditional4
	EquinoxLrn    int64          `json:"equinox_lrn"`   // equinox_lrn
	EquinoxSec    sql.NullInt64  `json:"equinox_sec"`   // equinox_sec
}

// EventlogByEquinoxLrn retrieves a row from 'equinox.eventlog' as a Eventlog.
//
// Generated from index 'eventlog_pkey'.
func EventlogByEquinoxLrn(db XODB, equinoxLrn int64) (*Eventlog, error) {
	var err error

	// sql query
	const sqlstr = `SELECT ` +
		`elid, eleventid, eldate, eltime, elstartdate, elstarttime, elenddate, elendtime, elmessage, eldetails, eltype, elcategory, elraisedby, eladditional1, eladditional2, eladditional3, eladditional4, equinox_lrn, equinox_sec ` +
		`FROM equinox.eventlog ` +
		`WHERE equinox_lrn = $1`

	// run query
	XOLog(sqlstr, equinoxLrn)
	e := Eventlog{}

	err = db.QueryRow(sqlstr, equinoxLrn).Scan(&e.Elid, &e.Eleventid, &e.Eldate, &e.Eltime, &e.Elstartdate, &e.Elstarttime, &e.Elenddate, &e.Elendtime, &e.Elmessage, &e.Eldetails, &e.Eltype, &e.Elcategory, &e.Elraisedby, &e.Eladditional1, &e.Eladditional2, &e.Eladditional3, &e.Eladditional4, &e.EquinoxLrn, &e.EquinoxSec)
	if err != nil {
		return nil, err
	}

	return &e, nil
}
