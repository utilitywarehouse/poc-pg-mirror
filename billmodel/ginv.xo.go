// Package billmodel contains the types for schema 'equinox'.
package billmodel

// GENERATED BY XO. DO NOT EDIT.

import (
	"database/sql"

	"github.com/lib/pq"
)

// Ginv represents a row from 'equinox.ginv'.
type Ginv struct {
	Ginvgreference   sql.NullString  `json:"ginvgreference"`   // ginvgreference
	Ginvyear         sql.NullString  `json:"ginvyear"`         // ginvyear
	Ginvbilledkwh    sql.NullString  `json:"ginvbilledkwh"`    // ginvbilledkwh
	Ginvbilledexvat  sql.NullString  `json:"ginvbilledexvat"`  // ginvbilledexvat
	Ginvreadtypes    sql.NullString  `json:"ginvreadtypes"`    // ginvreadtypes
	Ginv11monthskwh  sql.NullFloat64 `json:"ginv11monthskwh"`  // ginv11monthskwh
	Ginvyearly       sql.NullFloat64 `json:"ginvyearly"`       // ginvyearly
	Ginvppkwh        sql.NullFloat64 `json:"ginvppkwh"`        // ginvppkwh
	Ginvaqkwh        sql.NullFloat64 `json:"ginvaqkwh"`        // ginvaqkwh
	Ginvppkwhs       sql.NullString  `json:"ginvppkwhs"`       // ginvppkwhs
	Ginvnewlivedate  pq.NullTime     `json:"ginvnewlivedate"`  // ginvnewlivedate
	Ginvnewtariff    sql.NullString  `json:"ginvnewtariff"`    // ginvnewtariff
	Ginvnewnotified  pq.NullTime     `json:"ginvnewnotified"`  // ginvnewnotified
	Ginvtcr          sql.NullFloat64 `json:"ginvtcr"`          // ginvtcr
	Ginvtcrdual      sql.NullFloat64 `json:"ginvtcrdual"`      // ginvtcrdual
	Ginvrct          sql.NullString  `json:"ginvrct"`          // ginvrct
	Ginvrctsave      sql.NullFloat64 `json:"ginvrctsave"`      // ginvrctsave
	Ginvact          sql.NullString  `json:"ginvact"`          // ginvact
	Ginvactsave      sql.NullFloat64 `json:"ginvactsave"`      // ginvactsave
	Ginvtariffreason sql.NullString  `json:"ginvtariffreason"` // ginvtariffreason
	Ginvprojection   sql.NullFloat64 `json:"ginvprojection"`   // ginvprojection
	Ginvprojkwh      sql.NullFloat64 `json:"ginvprojkwh"`      // ginvprojkwh
	Ginvactest       sql.NullString  `json:"ginvactest"`       // ginvactest
	Ginvlastyear     sql.NullFloat64 `json:"ginvlastyear"`     // ginvlastyear
	EquinoxLrn       int64           `json:"equinox_lrn"`      // equinox_lrn
	EquinoxSec       sql.NullInt64   `json:"equinox_sec"`      // equinox_sec
}

// GinvByEquinoxLrn retrieves a row from 'equinox.ginv' as a Ginv.
//
// Generated from index 'ginv_pkey'.
func GinvByEquinoxLrn(db XODB, equinoxLrn int64) (*Ginv, error) {
	var err error

	// sql query
	const sqlstr = `SELECT ` +
		`ginvgreference, ginvyear, ginvbilledkwh, ginvbilledexvat, ginvreadtypes, ginv11monthskwh, ginvyearly, ginvppkwh, ginvaqkwh, ginvppkwhs, ginvnewlivedate, ginvnewtariff, ginvnewnotified, ginvtcr, ginvtcrdual, ginvrct, ginvrctsave, ginvact, ginvactsave, ginvtariffreason, ginvprojection, ginvprojkwh, ginvactest, ginvlastyear, equinox_lrn, equinox_sec ` +
		`FROM equinox.ginv ` +
		`WHERE equinox_lrn = $1`

	// run query
	XOLog(sqlstr, equinoxLrn)
	g := Ginv{}

	err = db.QueryRow(sqlstr, equinoxLrn).Scan(&g.Ginvgreference, &g.Ginvyear, &g.Ginvbilledkwh, &g.Ginvbilledexvat, &g.Ginvreadtypes, &g.Ginv11monthskwh, &g.Ginvyearly, &g.Ginvppkwh, &g.Ginvaqkwh, &g.Ginvppkwhs, &g.Ginvnewlivedate, &g.Ginvnewtariff, &g.Ginvnewnotified, &g.Ginvtcr, &g.Ginvtcrdual, &g.Ginvrct, &g.Ginvrctsave, &g.Ginvact, &g.Ginvactsave, &g.Ginvtariffreason, &g.Ginvprojection, &g.Ginvprojkwh, &g.Ginvactest, &g.Ginvlastyear, &g.EquinoxLrn, &g.EquinoxSec)
	if err != nil {
		return nil, err
	}

	return &g, nil
}
